<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bootstrap 5 Simple Admin Dashboard</title>
  <link rel="stylesheet" href="res/bootstrap@5.0.0-alpha2.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="res/chartist.min.css">
  <style>
  canvas {
  border:1px solid #d3d3d3;
  }
    .sidebar {
      position: fixed;
      top: 0;
      bottom: 0;
      left: 0;
      z-index: 100;
      padding: 90px 0 0;
      box-shadow: inset -1px 0 0 rgba(0, 0, 0, .1);
      z-index: 99;
    }

    @media (max-width: 767.98px) {
      .sidebar {
        top: 11.5rem;
        padding: 0;
      }
    }

    .navbar {
      box-shadow: inset 0 -1px 0 rgba(0, 0, 0, .1);
    }

    @media (min-width: 767.98px) {
      .navbar {
        top: 0;
        position: sticky;
        z-index: 999;
      }
    }

    .sidebar .nav-link {
      color: #333;
    }

    .sidebar .nav-link.active {
      color: #0d6efd;
    }
  </style>
</head>

<body>

  <style>
    #rotateMode {
      border-radius: 50%;
      width: 125px;
      height: 125px;
      background-color: gray;
      color: white;
      position: absolute;
      top: 140px;
    }

    #left,
    #right,
    #up,
    #down {
      position: absolute;
      width: 20px;
      height: 20px;
      cursor: pointer;
    }

    #left,
    #right {
      top: 50%;
      -webkit-transform: translateY(-50%);
      -moz-transform: translateY(-50%);
      transform: translateY(-50%);
    }

    #up,
    #down {
      left: 50%;
      -webkit-transform: translateX(-50%);
      -moz-transform: translateX(-50%);
      transform: translateX(-50%);
    }

    #left {
      left: 0;
    }

    #right {
      right: 0;
    }

    #up {
      top: 0;
    }

    #down {
      bottom: 0;
    }
  </style>
  <div class="circleBase" id="rotateMode"> <button  onclick="moveleft()" id="left" class="btn btn-default btn-sm">
      <span class="glyphicon glyphicon-arrow-left"></span>
    </button>
    <button  onclick="moveright()" id="right" class="btn btn-default btn-sm"><span class="glyphicon glyphicon-arrow-right"></span>
    </button>
    <button onclick="moveup()" id="up" class="btn btn-default btn-sm"><span class="glyphicon glyphicon-arrow-up"></span></button> 
    <button   onclick="movedown()"  id="down" class="btn btn-default btn-sm"><span class="glyphicon glyphicon-arrow-down"></span>
    </button>
  </div>

<body onload="startGame()">
  
  

    
  <script>
    var manaspele;
//document.getElementById("left").onclick = function() {
 // moveleft();
//  return false;
  
//};

  
    function startGame() {

      var img = new Image();
      manaspele = new component(80, 80, 100, 100);
      laukums.start();
    }
    
    
    
    
    

    var laukums = {
      canvas: document.createElement("canvas"),
      start: function() {
        this.canvas.width = 300;
        this.canvas.height = 300;
        this.context = this.canvas.getContext("2d");
        document.body.insertBefore(this.canvas, document.body.childNodes[0]);
        this.interval = setInterval(atjaunotlaukumu, 20);
        
      },
      clear: function() {
        this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
      }
    }

//myGamePiece = component
    function component(width, height, x, y) {
      this.width = width;
      this.height = height;
      this.speedX = 0;
      this.speedX2 = 0;
      this.speedY = 0;
      this.speedY2 = 0;
      
      this.x = x;
      this.y = y;
      
      
      
      
      this.update = function() {
        ctx = laukums.context;
        var img = new Image();
      img.src = "https://cf.shopee.com.my/file/ae0b063f9c1e094ee8c03eb5118973e5";
        ctx.drawImage(img, this.x, this.y, 80, 80);

      }
      this.newPos = function() {
        if(this.x < 0){
        console.log("iziet no ekrana zem 0 x asī ");
          
        }
        if(this.x >220){
        console.log("iziet no ekrana virs 220 x asī")
        }
        if(this.y < 0){
        console.log("iziet no ekrana zem 0 y asī ");
          
        }
        if(this.y >220){
        console.log("iziet no ekrana virs 220 y asī")
        }
        
        //speedX2 ir pa kreisi
        if(this.x > 0){
          
        this.x += this.speedX2;
        } 
        //speedX ir pa labi 
        if(this.x < 220){
        this.x += this.speedX
        }
        
        //speedY ir uz augšu
        if(this.y > 0){
        this.y += this.speedY;
        } 
        //speedY2 ir uz leju
        if(this.y < 220){
        this.y += this.speedY2;
        }
        
      }
    }

    function atjaunotlaukumu() {
      laukums.clear();
      
      
      manaspele.newPos();
      
      
      manaspele.update();
    }






//let item = document.querySelector("#left"); 
//let timerID; 
//let counter = 0; 
//let pressHoldEvent = new CustomEvent("pressHold"); 
//let pressHoldDuration = 65; 
//item.addEventListener("mousedown", pressingDown, false); 
//item.addEventListener("mouseup", notPressingDown, false); 
//item.addEventListener("mouseleave", notPressingDown, false); 
//item.addEventListener("touchstart", pressingDown, false); 
//item.addEventListener("touchend", notPressingDown, false);



//function pressingDown(e) { 
  // Start the timer 
//  requestAnimationFrame(moveleft);
//  e.preventDefault(); 
  //pressHoldDuration++;
//} 
  
 // function notPressingDown(e) { 
    // Stop the timer
 //   cancelAnimationFrame(timerID);
//    pressHoldDuration = 0; 
//    counter = 0;
 // } 
    //function timer() { 
      
  //}
      
   
//  let item2 = document.querySelector("#right"); 
//let timerID2; 
//let counter2 = 0; 
//let pressHoldEvent2 = new CustomEvent("pressHold"); 
//let pressHoldDuration2 = 65; 
//item2.addEventListener("mousedown", pressingDown2, false); 
//item2.addEventListener("mouseup", notPressingDown2, false); 
//item2.addEventListener("mouseleave", notPressingDown2, false); 
//item2.addEventListener("touchstart", pressingDown2, false); 
//item2.addEventListener("touchend", notPressingDown2, false);



//function pressingDown2(e) { 
  // Start the timer 
 // requestAnimationFrame(moveright);
//  e.preventDefault(); 
  //pressHoldDuration++;
//} 
  
 // function notPressingDown2(e) { 
    // Stop the timer
//    cancelAnimationFrame(timerID2);
 //   pressHoldDuration2 = 0; 
 //   counter2 = 0;
    //alert("11");
 // } 
    //function timer() { 
      
  //}
   
      






    function moveup() {
var showalert4 = true;
    
     // if(this.x > 0){
     setTimeout(function() { 
       showalert4 = false; 
       //alert(111);
       manaspele.speedY = 0;
     }, 500);
     
     if(showalert4 = true){
      manaspele.speedY -= 1;
     }
     // }
    }
    

    function movedown() {
     // if(this.y < 200){
     var showalert2 = true;
    
     // if(this.x > 0){
     setTimeout(function() { 
       showalert2 = false; 
       //alert(111);
       manaspele.speedY2 = 0;
     }, 500);
     
     if(showalert2 = true){
      manaspele.speedY2 += 1;
     }
     // }
    }
    
    
    

    function moveleft() {
     // console.log("left"); 
      
      //if (counter < pressHoldDuration) { timerID = requestAnimationFrame(moveleft); 
      //counter++;
      //alert(counter);
      var showalert = true;
    
     // if(this.x > 0){
     setTimeout(function() { 
       showalert = false; 
       //alert(111);
       //if(counter > 0){
       //  console.log("skaita left", counter);
       manaspele.speedX2 = 0;
      // } //else {
         //console.log("neskaita");
       //}
     }, 500);
     console.log("pa kreisi", showalert)
    if(showalert = true){
     manaspele.speedX2 -= 1;
     }
      
      
      
      
      
      
      //console.log(counter);
      //} else { 
    //item.dispatchEvent(pressHoldEvent); 
       // counter = 0;
        //alert(counter);
       // manaspele.speedX2 = 0;
   // }
      
      
    }
 
 
    

    
    
    function moveright() {
      console.log("right"); 
      
//  if (counter2 < pressHoldDuration2) { timerID2 = requestAnimationFrame(moveright); 
    //  counter2++;
      //alert(counter);
      
      //DEFAULT JAIET pa labi
      var showalert2 = true;
    
     // if(this.x > 0){
     setTimeout(function() { 
       //ja paiet 1,5 sekundes pārtrauc iet pa labi
       showalert2 = false; 
       //alert(111);
      // if(counter2 > 0){
        // console.log("skaita right", counter2);
       manaspele.speedX = 0;
       //} //else {
        // console.log("neskaita");
       //}
     }, 500);
     
     console.log("pa labi", showalert2);
    if(showalert2 = true){
     manaspele.speedX += 1;
    }
      
      
      
      
      
      
      //console.log(counter);
      //} else {
        
    //item2.dispatchEvent(pressHoldEvent2); 
      //  counter2 = 0;
        //alert(counter);
      //  manaspele.speedX = 0;
   // }
      
      
    }

    
    //  }
    
  </script>

</body>

</html>